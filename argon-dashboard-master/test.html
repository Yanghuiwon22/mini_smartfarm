

<script type="module">
// Server-side Node.js code with Express and PostgreSQL
console.log('Hello, Node.js!');

import express from 'https://cdn.skypack.dev/express';
import pg from 'https://cdn.skypack.dev/pg';
const { Pool } = pg;
// import { Pool } from 'https://cdn.skypack.dev/pg-browser';

// const express = require('express');
// const { Pool } = require('pg');
const app = express();
const port = 3000; // Define your server port


// PostgreSQL connection configuration
const pool = new Pool({
    user: 'danuni',
    host: 'database-1.crhwxgwlg3at.us-east-1.rds.amazonaws.com',
    database: 'postgres',
    password: 'gkekdms0429',
    port: 5432,
    // ssl: {
    //     ca: fs.readFileSync(ssl_root_certs).toString()
    // }
});
</script>

<script type="module">
const AWS = require('aws-sdk');

// AWS RDS 인스턴스의 엔드포인트와 포트, 사용자명, 비밀번호, 데이터베이스명 설정
const dbConfig = {
    user: 'danuni',
    host: 'database-1.crhwxgwlg3at.us-east-1.rds.amazonaws.com',
    database: 'postgres',
    password: 'gkekdms0429',
    port: 5432,
};

// AWS SDK에서 RDS 데이터베이스 연결 생성
const mysql = require('mysql');
const connection = mysql.createConnection(dbConfig);

// 연결 시도
connection.connect((err) => {
  if (err) {
    console.error('Database connection failed: ', err.stack);
    return;
  }
  console.log('Connected to database.');

  // 데이터 쿼리 예시
  connection.query('SELECT * FROM your_table', (error, results, fields) => {
    if (error) throw error;
    console.log('Query results: ', results);
  });

  // 연결 종료
  connection.end();
});
</script>